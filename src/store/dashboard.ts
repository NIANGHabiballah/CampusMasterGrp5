import { create } from 'zustand';\n\ninterface DashboardStats {\n  totalStudents: number;\n  totalCourses: number;\n  totalAssignments: number;\n  averageGrade: number;\n  submissionRate: number;\n  activeUsers: number;\n  pendingApprovals: number;\n}\n\ninterface GradeDistribution {\n  range: string;\n  count: number;\n  percentage: number;\n}\n\ninterface ActivityData {\n  date: string;\n  logins: number;\n  submissions: number;\n  downloads: number;\n}\n\ninterface CoursePerformance {\n  courseId: string;\n  courseName: string;\n  averageGrade: number;\n  submissionRate: number;\n  studentCount: number;\n}\n\ninterface DashboardState {\n  stats: DashboardStats;\n  gradeDistribution: GradeDistribution[];\n  activityData: ActivityData[];\n  coursePerformance: CoursePerformance[];\n  isLoading: boolean;\n  error: string | null;\n  \n  fetchDashboardData: () => Promise<void>;\n  fetchActivityData: (period: '7d' | '30d' | '90d') => Promise<void>;\n  fetchCoursePerformance: () => Promise<void>;\n}\n\n// Mock data generators\nconst generateActivityData = (days: number): ActivityData[] => {\n  const data: ActivityData[] = [];\n  const now = new Date();\n  \n  for (let i = days - 1; i >= 0; i--) {\n    const date = new Date(now);\n    date.setDate(date.getDate() - i);\n    \n    data.push({\n      date: date.toISOString().split('T')[0],\n      logins: Math.floor(Math.random() * 50) + 20,\n      submissions: Math.floor(Math.random() * 15) + 5,\n      downloads: Math.floor(Math.random() * 30) + 10\n    });\n  }\n  \n  return data;\n};\n\nconst mockStats: DashboardStats = {\n  totalStudents: 156,\n  totalCourses: 12,\n  totalAssignments: 48,\n  averageGrade: 14.2,\n  submissionRate: 87.5,\n  activeUsers: 142,\n  pendingApprovals: 8\n};\n\nconst mockGradeDistribution: GradeDistribution[] = [\n  { range: '0-5', count: 3, percentage: 2.1 },\n  { range: '6-8', count: 12, percentage: 8.4 },\n  { range: '9-11', count: 28, percentage: 19.6 },\n  { range: '12-14', count: 45, percentage: 31.5 },\n  { range: '15-17', count: 38, percentage: 26.6 },\n  { range: '18-20', count: 17, percentage: 11.9 }\n];\n\nconst mockCoursePerformance: CoursePerformance[] = [\n  {\n    courseId: '1',\n    courseName: 'React Avancé',\n    averageGrade: 15.2,\n    submissionRate: 92.3,\n    studentCount: 28\n  },\n  {\n    courseId: '2',\n    courseName: 'Node.js Backend',\n    averageGrade: 13.8,\n    submissionRate: 85.7,\n    studentCount: 25\n  },\n  {\n    courseId: '3',\n    courseName: 'Base de Données',\n    averageGrade: 14.5,\n    submissionRate: 88.9,\n    studentCount: 30\n  },\n  {\n    courseId: '4',\n    courseName: 'Architecture Logicielle',\n    averageGrade: 13.2,\n    submissionRate: 82.1,\n    studentCount: 22\n  }\n];\n\nexport const useDashboardStore = create<DashboardState>((set, get) => ({\n  stats: mockStats,\n  gradeDistribution: mockGradeDistribution,\n  activityData: generateActivityData(7),\n  coursePerformance: mockCoursePerformance,\n  isLoading: false,\n  error: null,\n\n  fetchDashboardData: async () => {\n    set({ isLoading: true, error: null });\n    \n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 800));\n      \n      // Generate some dynamic data\n      const updatedStats = {\n        ...mockStats,\n        activeUsers: Math.floor(Math.random() * 20) + 130,\n        submissionRate: Math.floor(Math.random() * 10) + 85,\n        averageGrade: Math.round((Math.random() * 2 + 13) * 10) / 10\n      };\n      \n      set({ \n        stats: updatedStats,\n        gradeDistribution: mockGradeDistribution,\n        isLoading: false \n      });\n    } catch (error) {\n      set({ \n        error: 'Erreur lors du chargement des statistiques',\n        isLoading: false \n      });\n    }\n  },\n\n  fetchActivityData: async (period: '7d' | '30d' | '90d') => {\n    set({ isLoading: true, error: null });\n    \n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 500));\n      \n      const days = period === '7d' ? 7 : period === '30d' ? 30 : 90;\n      const activityData = generateActivityData(days);\n      \n      set({ \n        activityData,\n        isLoading: false \n      });\n    } catch (error) {\n      set({ \n        error: 'Erreur lors du chargement des données d\\'activité',\n        isLoading: false \n      });\n    }\n  },\n\n  fetchCoursePerformance: async () => {\n    set({ isLoading: true, error: null });\n    \n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 600));\n      \n      // Add some variation to the data\n      const updatedPerformance = mockCoursePerformance.map(course => ({\n        ...course,\n        averageGrade: Math.round((course.averageGrade + (Math.random() - 0.5) * 2) * 10) / 10,\n        submissionRate: Math.round((course.submissionRate + (Math.random() - 0.5) * 10) * 10) / 10\n      }));\n      \n      set({ \n        coursePerformance: updatedPerformance,\n        isLoading: false \n      });\n    } catch (error) {\n      set({ \n        error: 'Erreur lors du chargement des performances des cours',\n        isLoading: false \n      });\n    }\n  }\n}));\n\n// Export types for use in components\nexport type { DashboardStats, GradeDistribution, ActivityData, CoursePerformance };