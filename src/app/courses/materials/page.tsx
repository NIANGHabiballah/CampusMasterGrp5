'use client';\n\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { \n  BookOpen, \n  Upload, \n  Download, \n  FileText, \n  Video, \n  Link, \n  Plus\n} from 'lucide-react';\nimport { useAuthStore } from '@/store/auth';\nimport { toast } from 'sonner';\n\ninterface CourseMaterial {\n  id: string;\n  title: string;\n  type: 'PDF' | 'VIDEO' | 'LINK';\n  url: string;\n  size?: string;\n  uploadedAt: string;\n  downloadCount: number;\n}\n\nconst mockMaterials: CourseMaterial[] = [\n  {\n    id: '1',\n    title: 'Introduction aux Hooks React',\n    type: 'PDF',\n    url: '/materials/react-hooks.pdf',\n    size: '2.1 MB',\n    uploadedAt: '2024-01-20',\n    downloadCount: 45\n  },\n  {\n    id: '2',\n    title: 'Tutoriel vidéo - Context API',\n    type: 'VIDEO',\n    url: '/materials/context-api.mp4',\n    size: '15.2 MB',\n    uploadedAt: '2024-01-22',\n    downloadCount: 32\n  },\n  {\n    id: '3',\n    title: 'Documentation React officielle',\n    type: 'LINK',\n    url: 'https://react.dev',\n    uploadedAt: '2024-01-18',\n    downloadCount: 67\n  }\n];\n\nexport default function CourseMaterialsPage() {\n  const { user } = useAuthStore();\n  const [materials, setMaterials] = useState<CourseMaterial[]>(mockMaterials);\n  const [isUploadOpen, setIsUploadOpen] = useState(false);\n\n  const getFileIcon = (type: string) => {\n    switch (type) {\n      case 'PDF': return <FileText className=\"w-5 h-5 text-red-500\" />;\n      case 'VIDEO': return <Video className=\"w-5 h-5 text-blue-500\" />;\n      case 'LINK': return <Link className=\"w-5 h-5 text-purple-500\" />;\n      default: return <FileText className=\"w-5 h-5 text-gray-500\" />;\n    }\n  };\n\n  const handleDownload = (material: CourseMaterial) => {\n    setMaterials(prev => prev.map(m => \n      m.id === material.id ? { ...m, downloadCount: m.downloadCount + 1 } : m\n    ));\n    toast.success('Téléchargement démarré');\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Supports de cours</h1>\n          <p className=\"text-gray-600 mt-1\">Téléchargez les supports pédagogiques</p>\n        </div>\n        \n        {user?.role === 'TEACHER' && (\n          <Dialog open={isUploadOpen} onOpenChange={setIsUploadOpen}>\n            <DialogTrigger asChild>\n              <Button className=\"bg-blue-600 hover:bg-blue-700\">\n                <Upload className=\"w-4 h-4 mr-2\" />\n                Ajouter un support\n              </Button>\n            </DialogTrigger>\n            <DialogContent>\n              <DialogHeader>\n                <DialogTitle>Ajouter un support</DialogTitle>\n                <DialogDescription>Uploadez un nouveau support de cours</DialogDescription>\n              </DialogHeader>\n              <div className=\"space-y-4\">\n                <Input placeholder=\"Titre du support\" />\n                <Input type=\"file\" />\n                <div className=\"flex justify-end space-x-2\">\n                  <Button variant=\"outline\" onClick={() => setIsUploadOpen(false)}>Annuler</Button>\n                  <Button>Ajouter</Button>\n                </div>\n              </div>\n            </DialogContent>\n          </Dialog>\n        )}\n      </div>\n\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n        {materials.map((material) => (\n          <Card key={material.id} className=\"hover:shadow-lg transition-shadow\">\n            <CardHeader>\n              <div className=\"flex items-center space-x-2\">\n                {getFileIcon(material.type)}\n                <div>\n                  <CardTitle className=\"text-lg\">{material.title}</CardTitle>\n                  <CardDescription>{material.uploadedAt}</CardDescription>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex justify-between text-sm text-gray-500\">\n                {material.size && <span>{material.size}</span>}\n                <span>{material.downloadCount} téléchargements</span>\n              </div>\n              <Button \n                className=\"w-full\" \n                onClick={() => handleDownload(material)}\n              >\n                <Download className=\"w-4 h-4 mr-2\" />\n                {material.type === 'LINK' ? 'Ouvrir' : 'Télécharger'}\n              </Button>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n}"